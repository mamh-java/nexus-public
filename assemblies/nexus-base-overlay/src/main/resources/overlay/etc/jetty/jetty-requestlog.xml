<?xml version="1.0"?>
<!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "http://www.eclipse.org/jetty/configure_9_0.dtd">
<Configure id="Server" class="org.eclipse.jetty.server.Server">

  <Ref refid="Handlers">
    <Call name="addHandler">
      <Arg>
        <New id="RequestLogHandler" class="org.eclipse.jetty.server.handler.RequestLogHandler">
          <Set name="requestLog">
            <New id="RequestLogImpl" class="org.eclipse.jetty.server.CustomRequestLog">
              <Arg>
                <New class="org.eclipse.jetty.server.RequestLogWriter">
                  <Set name="filename"><SystemProperty name="jetty.logs" default="../sonatype-work/nexus3/log"/>/request.log</Set>
                  <Set name="append">true</Set>
                  <Set name="retainDays">90</Set>
                  <Set name="timeZone">GMT</Set>
                </New>
              </Arg>
              <Arg>%{client}a - %u %t "%r" %s %{Content-Length}i %O %T %{User-Agent}i</Arg>
            </New>
          </Set>
        </New>
      </Arg>
    </Call>
  </Ref>

</Configure>
